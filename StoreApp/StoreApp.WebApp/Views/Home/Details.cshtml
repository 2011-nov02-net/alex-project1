@model IEnumerable<StoreApp.WebApp.Models.OrderViewModel>

@{
    ViewData["Title"] = "Details";
}

<h1>Order History</h1>
<br />
<h2>@ViewData["Customer"]</h2>
<div>
    <hr />
    @if (!Model.Any())
    {
        <p>@ViewData["Customer"] has not placed any orders yet.</p>
    }
    else
    {
        @foreach (var order in Model)
        {
            <dl class="row">
                
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(modelItem => order.Store)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(modelItem => order.Store)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(modelItem => order.Time)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(modelItem => order.Time)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(modelItem => order.Total)
                </dt>
                <dd class="col-sm-10">
                    $@Html.DisplayFor(modelItem => order.Total)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(modelItem => order.Products)
                </dt>
                <dd class="col-sm-10">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>
                                    Product
                                </th>
                                <th>
                                    Qty
                                </th>
                                
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var kvp in order.Products)
                            {
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => kvp.Key)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => kvp.Value)
                                    </td>
                                    
                                </tr>
                            }
                        </tbody>
                    </table>
                </dd>
            </dl>

        }
    }


</div>
<div>
    <a asp-action="Index">Back to List</a>
</div>
